{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ã“rbitas del Sistema Solar</title>
<link rel="stylesheet" href="{% static 'planets/style-orbits.css' %}">
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">

</head>
<body>

<!-- BotÃ³n menÃº -->
<button id="toggleSidebar" class="open-btn">â˜°</button>

<!-- Sidebar -->
<div id="sidebar" class="sidebar">
  <nav>
    <ul>
      <li><a href="{% url 'orbits' %}">Orbits</a></li>
      <li><a href="{% url 'pagina2' %}">PÃ¡gina 2</a></li>
      <li><a href="{% url 'pagina3' %}">PÃ¡gina 3</a></li>
    </ul>
  </nav>
</div>

<div class="header-title">
  <h1>SOLAR SYSTEM</h1>
</div>

<!-- Contenedor principal con marco pixelado -->
<main>
  <div class="solar-frame">
    <div class="solar-box">
      <svg viewBox="0 0 1600 1600" class="solar-system" xmlns:xlink="http://www.w3.org/1999/xlink">
        <!-- Sol (GIF) -->
        <image
          id="sun"
          href="{% static 'planets/gifs/sun.gif' %}"
          xlink:href="{% static 'planets/gifs/sun.gif' %}"
          x="740" y="740"
          width="120" height="120"
          preserveAspectRatio="xMidYMid meet"
        ></image>

        <!-- Ã“rbitas de los planetas (generadas desde radii_list) -->
        {% for r in radii_list %}
          <circle class="orbit" cx="800" cy="800" r="{{ r }}" fill="none"></circle>
        {% endfor %}

        <!-- CinturÃ³n de asteroides (puntos generados por JS) -->
        <g id="asteroid-belt"></g>

        <!-- Planetas (GIF/PNG) -->
        <image id="mercury" href="{% static 'planets/gifs/mercury.gif' %}" xlink:href="{% static 'planets/gifs/mercury.gif' %}" width="40" height="40" preserveAspectRatio="xMidYMid meet"></image>
        <image id="venus" href="{% static 'planets/gifs/venus.gif' %}" xlink:href="{% static 'planets/gifs/venus.gif' %}" width="44" height="44" preserveAspectRatio="xMidYMid meet"></image>
        <image id="earth" href="{% static 'planets/gifs/earth.gif' %}" xlink:href="{% static 'planets/gifs/earth.gif' %}" width="44" height="44" preserveAspectRatio="xMidYMid meet"></image>
        <image id="mars" href="{% static 'planets/gifs/mars.gif' %}" xlink:href="{% static 'planets/gifs/mars.gif' %}" width="42" height="42" preserveAspectRatio="xMidYMid meet"></image>
        <image id="jupiter" href="{% static 'planets/gifs/jupiter.gif' %}" xlink:href="{% static 'planets/gifs/jupiter.gif' %}" width="60" height="60" preserveAspectRatio="xMidYMid meet"></image>
        <image id="saturn" href="{% static 'planets/gifs/saturn.gif' %}" xlink:href="{% static 'planets/gifs/saturn.gif' %}" width="60" height="60" preserveAspectRatio="xMidYMid meet"></image>
        <image id="uranus" href="{% static 'planets/gifs/uranus.png' %}" xlink:href="{% static 'planets/gifs/uranus.png' %}" width="52" height="52" preserveAspectRatio="xMidYMid meet"></image>
        <image id="neptune" href="{% static 'planets/gifs/neptune.gif' %}" xlink:href="{% static 'planets/gifs/neptune.gif' %}" width="52" height="52" preserveAspectRatio="xMidYMid meet"></image>
      </svg>
    </div>
  </div>

  <!-- Selector de fecha a la derecha -->
  <div class="date-control-panel">
    <form method="get" id="date-form">
      <div class="form-group">
        <label for="date">Fecha:</label>
        <div class="date-input-wrap">
          <input type="text" id="date" name="date" value="{{ selected_date }}" class="date-input" placeholder="YYYY-MM-DD">
          <button type="button" id="calendar-btn" class="btn calendar-btn" aria-label="Abrir calendario">ðŸ“…</button>
          <!-- Contenedor para el datepicker personalizado -->
          <div id="custom-datepicker" class="custom-datepicker" aria-hidden="true"></div>
        </div>
      </div>


      <!-- Fila de navegaciÃ³n de fechas: anterior / hoy / siguiente -->
      <div class="date-nav-row">
        <button type="button" id="prev-day-btn" class="btn btn-nav" aria-label="DÃ­a anterior">â—€</button>
        <button type="button" id="today-btn" class="btn btn-today" aria-label="Hoy">Hoy</button>
        <button type="button" id="next-day-btn" class="btn btn-nav" aria-label="DÃ­a siguiente">â–¶</button>
      </div>
    </form>
  </div>
</main>

<!-- Pasar datos al JS -->
<script id="positions-data" type="application/json">{{ positions_json|safe }}</script>
<script id="periods-data" type="application/json">{{ periods_json|safe }}</script>

<script src="{% static 'planets/sidebar.js' %}"></script>
<script src="{% static 'planets/orbits.js' %}"></script>

{% load django_browser_reload %}
{% django_browser_reload_script %}

</body>
</html>
